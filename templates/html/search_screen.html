<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/sch_screen.css">
    <title>Food Delivery Search</title>
</head>
<body>
    <header>
        <nav>
            <button class="back-btn">←</button>
            <div class="search-container">
                <input type="search" placeholder="먹고 싶은 메뉴나 찾고 싶은 음식점을 입력해주세요" aria-label="Search">
            </div>
            <button class="cart-btn">🛒</button>
        </nav>
    </header>

    <main>
        <section class="filters">
            <div class="recent-searches">
                <div class="tag"><span>삼겹살</span> ×</div>
                <div class="tag"><span>콜키지 프리</span> ×</div>
                <div class="tag"><span>와인바</span> ×</div>
                <div class="tag"><span>일식</span> ×</div>
            </div>
        </section>

        <section class="promotional-banner">
            <div class="promo-card">광고 탭</div>
        </section>

        <section class="popular-searches">
            <h2>인기 검색어</h2>
            <div class="search-grid">
                <div class="search-item" onclick="toggleExpand(this)">
                    <div class="top-rankings"></div>
                    <span class="expand-item">
                        펼쳐서 보기 <i>▼</i>
                    </span>
                </div>
                <div class="expand-content" style="display: none;">
                    <div class="update-info">
                        오전 9시 업데이트
                        <span class="collapse" onclick="toggleExpand(this)">접기 ▴</span>
                    </div>
                    <div class="columns">
                        <ol class="search-rankings left-column"></ol>
                        <ol class="search-rankings right-column"></ol>
                    </div>
                </div>
            </div>
        </section>

        <section class="restaurant-list">
            <h2>콜키지 가능한 인기 맛집 10선</h2>
            <div class="restaurant-grid">
                <article class="restaurant-card">
                    <img src="restaurant1.jpg" alt="Restaurant">
                    <div class="restaurant-info">
                        <h3>Rooftop BBQ</h3>
                        <div class="rating">★ 5.0</div>
                        <div class="details">
                            <span>27-42min</span>
                            <span>540-1,540₩</span>
                        </div>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <aside class="ad-section">
        <div class="ad-container">광고 내용</div>
    </aside>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const items = [
                "이삭토스트", "메가커피", "써브웨이", "한솥도시락", "빽다방",
                "파리바게뜨", "브런치", "샌드위치", "컴포즈커피", "본죽"
            ];
    
            const leftColumn = document.querySelector(".left-column");
            const rightColumn = document.querySelector(".right-column");
            const topRankingsDiv = document.querySelector(".top-rankings");
            const searchItem = document.querySelector('.search-item');
            const expandContent = document.querySelector('.expand-content');
    
            let currentIndex = 0;
            const midIndex = Math.ceil(items.length / 2);
    
            // 왼쪽과 오른쪽 컬럼 초기화
            items.forEach((item, index) => {
                const li = document.createElement("li");
                li.innerHTML = `<span class="rank-number">${index + 1}.</span> ${item}`;
                (index < midIndex ? leftColumn : rightColumn).appendChild(li);
            });
    
            // 상위 랭킹 데이터를 업데이트하는 함수
            const updateTopRanking = () => {
                const itemText = items[currentIndex];
                topRankingsDiv.innerHTML = `<span class="rank-number">${currentIndex + 1}.</span> ${itemText}`;
                currentIndex = (currentIndex + 1) % items.length;
            };
    
            // 2.5초마다 상위 랭킹 데이터 업데이트
            setInterval(updateTopRanking, 2500);
            updateTopRanking();
    
            window.toggleExpand = () => {
                const isExpanded = expandContent.style.display === 'block';
                expandContent.style.display = isExpanded ? 'none' : 'block';
                searchItem.style.display = isExpanded ? 'flex' : 'none';
            };
        });
    </script>
    
</body>
</html>
